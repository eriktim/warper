<template>
  <style>
    .wr-frame {
      position:fixed;
      top:0;
      max-height: 100%;
    }

    .wr-frame .nav {
      margin: 0.5em 0;
      cursor: pointer;
    }

    .wr-frame > div {
      text-align: center;
    }

    .wr-frame img {
      max-height: calc(100vh - 5em);
      margin: 0 auto;
    }

    #ok-loupe:after {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      content: "\00b7";
      font-size: 2em;
      color: #0f0;
      line-height: 100px;
      text-align: center;
    }

    .wr-frame .point {
      z-index: 100;
      position: absolute;
      color: #0f0;
      font-size: 2em;
      text-align: center;
      line-height: 2em;
    }
  </style>

  <div class="wr-frame">
    <ul class="nav nav-pills nav-justified">
      <li role="presentation" class.bind="activeFrame == frame ? 'active' : ''">
        <a click.delegate="toggle()">Frame <span class="badge">${3 - frame.points.size || ''}</span></a>
      </li>
      <li role="presentation" class.bind="activeFrame == reference ? 'active' : ''">
        <a click.delegate="toggle()">Reference <span class="badge">${3 - frame.refPoints.size || ''}</span></a></li>
    </ul>
    <div>
      <template if.bind="source">
        <img src.bind="activeFrame.src" class="img-responsive img-rounded">
        <template repeat.for="point of activePoints">
          <span class="point" style="left: ${left(point)}px; top: ${top(point)}px">&#x274c;</span>
        </template>
      </template>
      <p class="text-danger" if.bind="!source">(no frame)</p>
    </div>
  </div>
</template>
